# Lifter

To run lifter:

    $ make
    $ ./lifter < MAP_FILE


# Validator

To run validator:

    $ make
    $ echo MOVE_SEQUENCE | ./validator MAP_FILE


To run validator without debug output:

    $ make
    $ echo MOVE_SEQUENCE | ./validator MAP_FILE 2> /dev/null


You can specify the following flags:
    -v      Just the score
    -vv     Dump state once after all moves
    -vvv    Dump state after every move


# VM

To use VM functions interactively:

    $ make
    $ ghci -L. -lvm VM.hs

    > s <- newFromFile "MAP_FILE"
    > dump s
    > dump (makeMoves s "MOVE_SEQUENCE")
    > print (getRobotPoint s)
    > print (get s (getRobotPoint s))


Which VM functions to use:

    new :: ByteString -> State
    newFromFile :: String -> IO State

    dump :: State -> IO ()

    getWorldSize :: State -> Size
    getRobotPoint :: State -> Point
    getLiftPoint :: State -> Point
    getWaterLevel :: State -> Int
    getFloodingRate :: State -> Int
    getRobotWaterproofing :: State -> Int
    getUsedRobotWaterproofing :: State -> Int
    getLambdaCount :: State -> Int
    getCollectedLambdaCount :: State -> Int
    getMoveCount :: State -> Int
    getScore :: State -> Int
    getCondition :: State -> Condition
    get :: State -> Point -> Object

    makeOneMove :: State -> Char -> State
    makeMoves :: State -> String -> State
